<?xml version="1.0"?>
<block>
  <name>dedispersion_old</name>
  <key>radio_astro_dedispersion_old</key>
  <category>[radio_astro]</category>
  <import>import radio_astro</import>
  <make>radio_astro.dedispersion_old($vec_length, $dms, $f_obs, $bw, $t_int, $nt)</make>
  <!-- Make one 'param' node for every Parameter you want settable from the GUI.
       Sub-nodes:
       * name
       * key (makes the value accessible as $keyname, e.g. in the make node)
       * type -->
  <param>
    <name>vec_length</name>
    <key>vec_length</key>
    <type>int</type>
  </param>

  <param>
    <name>dms</name>
    <key>dms</key>
    <type>int</type>
  </param>

  <param>
    <name>f_obs</name>
    <key>f_obs</key>
    <type>float</type>
  </param>
  
  <param>
    <name>bw</name>
    <key>bw</key>
    <type>float</type>
  </param>

  <param>
    <name>t_int</name>
    <key>t_int</key>
    <type>float</type>
  </param>

  <param>
    <name>nt</name>
    <key>nt</key>
    <type>int</type>
  </param>
  <!-- Make one 'sink' node per input. Sub-nodes:
       * name (an identifier for the GUI)
       * type
       * vlen
       * optional (set to 1 for optional inputs) -->
  <sink>
    <name>in</name>
    <type>float</type>
    <vlen>$vec_length*$nt</vlen>
  </sink>

  <!-- Make one 'source' node per output. Sub-nodes:
       * name (an identifier for the GUI)
       * type
       * vlen
       * optional (set to 1 for optional inputs) -->
  <source>
    <name>out</name>
    <type>float</type>
    <vlen>$nt*$dms</vlen>
  </source>

<doc>

This is an older version of the dedisperse block.

Was replaced in July 2019 with the next version of the block
-------------------------------------------------------------------------------------------------------------------
VEC_LENGTH

The number of frequency channels given by the FFT.
-------------------------------------------------------------------------------------------------------------------
DMS

The largest DM tested. The smallest is 0

Note: This must be greater than 0
-------------------------------------------------------------------------------------------------------------------
F_OBS

The centre frequency that the telescope is observing at. 

Note: expected to be given in units of MHz.
-------------------------------------------------------------------------------------------------------------------
BW

The observing bandwidth given by the sample rate inside of the Osmocom block, LimeSuite Source, etc.

If not observing in real time, this is the observing bandwidth the the telescope observed at, NOT the throttle rate of your flowgraph.

Note: expected to be given in units of MHz.
-------------------------------------------------------------------------------------------------------------------
T_INT

The time per interval in the data. Ie the timestep for every data point given. 

For a file source, the value is given by the total viewing time in milliseconds divided bythe total number time channels (see NT variable below).

For a live source, this value is given by the total viewing time in milliseconds divided by the desired frame.
This frame is up to an individuals discretion, but generally it is better to calculate it as the period (for a pulsar) times the number of periods desired in a frame
-------------------------------------------------------------------------------------------------------------------
NT

The number of time channels the data is being separated into by integration.

This is given by the total number of data points divided by the number of integrations and vector length.

For a live source, the number of data points is given by the sample rate times the time length that you want a "file" to be.

Note: LimeSDR-Mini and LimeSDR-Micro supports only the same sample rate for TX and RX.

-------------------------------------------------------------------------------------------------------------------
</doc>
</block>
